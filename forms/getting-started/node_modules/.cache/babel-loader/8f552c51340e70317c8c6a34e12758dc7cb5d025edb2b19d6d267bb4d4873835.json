{"ast":null,"code":"import { Class } from '../common';\nimport HasObservers from './has-observers';\nimport { defined } from '../util';\nvar toString = {}.toString;\nvar OptionsStore = function (HasObservers) {\n  function OptionsStore(options, prefix) {\n    var this$1 = this;\n    if (prefix === void 0) prefix = \"\";\n    HasObservers.call(this);\n    this.prefix = prefix;\n    for (var field in options) {\n      var member = options[field];\n      member = this$1._wrap(member, field);\n      this$1[field] = member;\n    }\n  }\n  if (HasObservers) OptionsStore.__proto__ = HasObservers;\n  OptionsStore.prototype = Object.create(HasObservers && HasObservers.prototype);\n  OptionsStore.prototype.constructor = OptionsStore;\n  OptionsStore.prototype.get = function get(field) {\n    var parts = field.split(\".\");\n    var result = this;\n    while (parts.length && result) {\n      var part = parts.shift();\n      result = result[part];\n    }\n    return result;\n  };\n  OptionsStore.prototype.set = function set(field, value) {\n    var current = this.get(field);\n    if (current !== value) {\n      this._set(field, this._wrap(value, field));\n      this.optionsChange({\n        field: this.prefix + field,\n        value: value\n      });\n    }\n  };\n  OptionsStore.prototype._set = function _set(field, value) {\n    var this$1 = this;\n    var composite = field.indexOf(\".\") >= 0;\n    var parentObj = this;\n    var fieldName = field;\n    if (composite) {\n      var parts = fieldName.split(\".\");\n      var prefix = this.prefix;\n      while (parts.length > 1) {\n        fieldName = parts.shift();\n        prefix += fieldName + \".\";\n        var obj = parentObj[fieldName];\n        if (!obj) {\n          obj = new OptionsStore({}, prefix);\n          obj.addObserver(this$1);\n          parentObj[fieldName] = obj;\n        }\n        parentObj = obj;\n      }\n      fieldName = parts[0];\n    }\n    parentObj._clear(fieldName);\n    parentObj[fieldName] = value;\n  };\n  OptionsStore.prototype._clear = function _clear(field) {\n    var current = this[field];\n    if (current && current.removeObserver) {\n      current.removeObserver(this);\n    }\n  };\n  OptionsStore.prototype._wrap = function _wrap(object, field) {\n    var type = toString.call(object);\n    var wrapped = object;\n    if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n      if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n        wrapped = new OptionsStore(wrapped, this.prefix + field + \".\");\n      }\n      wrapped.addObserver(this);\n    }\n    return wrapped;\n  };\n  return OptionsStore;\n}(HasObservers);\nexport default OptionsStore;","map":{"version":3,"names":["Class","HasObservers","defined","toString","OptionsStore","options","prefix","this$1","call","field","member","_wrap","__proto__","prototype","Object","create","constructor","get","parts","split","result","length","part","shift","set","value","current","_set","optionsChange","composite","indexOf","parentObj","fieldName","obj","addObserver","_clear","removeObserver","object","type","wrapped"],"sources":["/home/shermannatrix/RnD/ttg-kendoreact/forms/getting-started/node_modules/@progress/kendo-drawing/dist/es/core/options-store.js"],"sourcesContent":["import { Class } from '../common';\nimport HasObservers from './has-observers';\nimport { defined } from '../util';\n\n\nvar toString = {}.toString;\n\nvar OptionsStore = (function (HasObservers) {\n    function OptionsStore(options, prefix) {\n        var this$1 = this;\n        if ( prefix === void 0 ) prefix = \"\";\n\n        HasObservers.call(this);\n\n        this.prefix = prefix;\n\n        for (var field in options) {\n            var member = options[field];\n            member = this$1._wrap(member, field);\n            this$1[field] = member;\n        }\n    }\n\n    if ( HasObservers ) OptionsStore.__proto__ = HasObservers;\n    OptionsStore.prototype = Object.create( HasObservers && HasObservers.prototype );\n    OptionsStore.prototype.constructor = OptionsStore;\n\n    OptionsStore.prototype.get = function get (field) {\n        var parts = field.split(\".\");\n        var result = this;\n\n        while (parts.length && result) {\n            var part = parts.shift();\n            result = result[part];\n        }\n\n        return result;\n    };\n\n    OptionsStore.prototype.set = function set (field, value) {\n        var current = this.get(field);\n\n        if (current !== value) {\n            this._set(field, this._wrap(value, field));\n            this.optionsChange({\n                field: this.prefix + field,\n                value: value\n            });\n        }\n    };\n\n    OptionsStore.prototype._set = function _set (field, value) {\n        var this$1 = this;\n\n        var composite = field.indexOf(\".\") >= 0;\n        var parentObj = this;\n        var fieldName = field;\n\n        if (composite) {\n            var parts = fieldName.split(\".\");\n            var prefix = this.prefix;\n\n            while (parts.length > 1) {\n                fieldName = parts.shift();\n                prefix += fieldName + \".\";\n\n                var obj = parentObj[fieldName];\n\n                if (!obj) {\n                    obj = new OptionsStore({}, prefix);\n                    obj.addObserver(this$1);\n                    parentObj[fieldName] = obj;\n                }\n                parentObj = obj;\n            }\n            fieldName = parts[0];\n        }\n\n        parentObj._clear(fieldName);\n        parentObj[fieldName] = value;\n    };\n\n    OptionsStore.prototype._clear = function _clear (field) {\n        var current = this[field];\n        if (current && current.removeObserver) {\n            current.removeObserver(this);\n        }\n    };\n\n    OptionsStore.prototype._wrap = function _wrap (object, field) {\n        var type = toString.call(object);\n        var wrapped = object;\n\n        if (wrapped !== null && defined(wrapped) && type === \"[object Object]\") {\n            if (!(object instanceof OptionsStore) && !(object instanceof Class)) {\n                wrapped = new OptionsStore(wrapped, this.prefix + field + \".\");\n            }\n\n            wrapped.addObserver(this);\n        }\n\n        return wrapped;\n    };\n\n    return OptionsStore;\n}(HasObservers));\n\nexport default OptionsStore;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}